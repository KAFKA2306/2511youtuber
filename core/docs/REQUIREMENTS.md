# 要求仕様書

## 背景と目的
旧リポジトリの複雑性と50時間超のバグ修正失敗を踏まえ、Gemini APIと最小ステップで金融ニュースから日本語YouTube動画を生成する新基盤を構築する。DRIの明確化と関心の分離を徹底し、削除・差し替えが容易なモジュール化を第一目標とする。

## 成果物
- 成功パスのみを扱うワークフロー実装（ニュース取得→台本生成→音声合成→映像統合）。
- Gemini応答を前提とした台本生成ロジックと検証ユーティリティ。
- テキスト、音声、字幕、映像を保存するアーティファクト構造。
- 最小限のCLIエントリーポイントと自動テスト。

## 機能要件
1. ニュース取得モジュールが一件の金融ニュース要約を生成する。
2. 台本生成モジュールがGeminiから得た応答を段落化し、読み上げと字幕用の構造体に変換する。
3. 音声合成モジュールが単一音声ファイルを生成し、タイムスタンプを返却する。
4. 映像統合モジュールが固定テンプレートに字幕を焼き付け、動画ファイルを出力する。
5. すべての中間生成物を`artifacts/{step}`に保存する。
6. ワークフローは単一の設定ファイルで切り替え可能なプロバイダを持つ。

## 非機能要件
- Python 3.11固定、依存は標準ライブラリ＋必要最小限の外部パッケージに限定。
- コードは成功ケースのみを実装し、エラーハンドリング・コメントを禁止。
- 各モジュールは200行以内、依存注入で容易に差し替え可能とする。
- ワークフローの実行時間はローカル環境で5分以内を目標とする。
- 実行ログは構造化テキストとして`artifacts/logs`に保存する。

## DRI
- Workflow: DRI = Core Maintainer
- Gemini Script: DRI = LLM Specialist
- Audio: DRI = Media Engineer
- Video: DRI = Rendering Engineer
- Testing: DRI = Quality Owner

## 範囲外
- エラー時のリカバリー、フォールバック、リトライ。
- 多言語対応やリアルタイム配信機能。
- 外部ストレージや配信プラットフォームへのアップロード。
